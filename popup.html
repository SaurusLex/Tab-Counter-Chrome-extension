<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      body {
        width: 200px;
        padding: 10px;
        font-family: sans-serif;
      }
      .stat {
        margin-bottom: 8px;
      }
      .label {
        font-weight: bold;
        display: block;
      }
      .value {
        font-size: 1.2em;
        color: #4b4b4b;
      }
      .section-title {
        font-size: 0.9em;
        color: #888;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 15px;
        margin-bottom: 5px;
        border-top: 1px solid #eee;
        padding-top: 10px;
      }
      /* Switch styles */
      .switch-container {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 5px;
      }
      .switch {
        position: relative;
        display: inline-block;
        width: 34px;
        height: 20px;
      }
      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: 0.4s;
        border-radius: 20px;
      }
      .slider:before {
        position: absolute;
        content: "";
        height: 14px;
        width: 14px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }
      input:checked + .slider {
        background-color: #4b4b4b;
      }
      input:checked + .slider:before {
        transform: translateX(14px);
      }
      /* Color picker styles */
      .color-picker {
        display: flex;
        gap: 10px;
        margin-top: 10px;
      }
      .color-option {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid transparent;
        transition: border-color 0.2s;
      }
      .color-option.selected {
        border-color: #007bff;
      }
      .color-gray {
        background-color: #4b4b4b;
      }
      .color-white {
        background-color: #ffffff;
        border: 1px solid #ccc;
      }
      .color-red {
        background-color: #ff5252;
      }
      /* Domain list styles */
      .domain-list {
        margin-top: 5px;
        max-height: 150px;
        overflow-y: auto;
        font-size: 0.9em;
      }
      .domain-item {
        display: flex;
        justify-content: space-between;
        padding: 4px 0;
      }
      .domain-item + .domain-item {
        border-top: 1px solid #f5f5f5;
      }
      .domain-name {
        color: #333;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-right: 10px;
      }
      .domain-count {
        font-weight: bold;
        color: #666;
      }
      .domain-item.others {
        border-top: 1px dashed #ccc;
        margin-top: 4px;
        padding-top: 6px;
        color: #888;
        font-style: italic;
      }
      .domain-item.others .domain-count {
        color: #888;
      }
      .loading {
        color: #999;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <div class="stat">
      <span class="label">Tabs in this window:</span>
      <span id="currentWindowTabs" class="value">...</span>
    </div>
    <div class="stat">
      <span class="label">Total:</span>
      <span id="totals" class="value">...</span>
    </div>

    <div class="section-title">Stats</div>
    <div class="switch-container" style="margin-bottom: 8px">
      <span class="label" style="font-size: 0.85em; font-weight: normal"
        >Show all windows</span
      >
      <label
        class="switch"
        style="transform: scale(0.8); transform-origin: left"
      >
        <input type="checkbox" id="statsAllWindows" />
        <span class="slider"></span>
      </label>
    </div>
    <div id="domainStats" class="domain-list">
      <div class="loading">Loading stats...</div>
    </div>

    <div class="section-title">Badge Settings</div>

    <div class="switch-container">
      <span class="label">Count all windows</span>
      <label class="switch">
        <input type="checkbox" id="countAllWindows" />
        <span class="slider"></span>
      </label>
    </div>

    <div class="stat" style="margin-top: 10px">
      <span class="label">Badge Color:</span>
      <div class="color-picker" id="colorPicker">
        <div
          class="color-option color-gray selected"
          data-color="#4B4B4B"
          title="Gray"
        ></div>
        <div
          class="color-option color-white"
          data-color="#FFFFFF"
          title="White"
        ></div>
        <div
          class="color-option color-red"
          data-color="#FF5252"
          title="Red"
        ></div>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
